diff --git a/libclc/utils/libclc-remangler/CMakeLists.txt b/libclc/utils/libclc-remangler/CMakeLists.txt
index c764eed682f0..93c658eea263 100644
--- a/libclc/utils/libclc-remangler/CMakeLists.txt
+++ b/libclc/utils/libclc-remangler/CMakeLists.txt
@@ -1,30 +1,47 @@
-# Setup libclc-remangler
-set(LLVM_LINK_COMPONENTS
-  BitWriter
-  BitReader
-  Core
-  Demangle
-  Support
-  TransformUtils
-  IRReader
-  TargetParser
-  )
-
-add_clang_tool(libclc-remangler LibclcRemangler.cpp)
-
-setup_host_tool( libclc-remangler LIBCLC_REMANGLER
-  libclc-remangler_exe libclc-remangler_target )
-
-target_include_directories(libclc-remangler PRIVATE
-  ${CMAKE_SOURCE_DIR}/../clang/include
-  ${CMAKE_BINARY_DIR}/tools/clang/include)
-
-clang_target_link_libraries(libclc-remangler
-  PRIVATE
+find_package(LLVM REQUIRED CONFIG)
+find_package(Clang REQUIRED CONFIG)
+
+message(STATUS "Found LLVM ${LLVM_PACKAGE_VERSION}")
+message(STATUS "Using LLVMConfig.cmake in: ${LLVM_DIR}")
+message(STATUS "Found Clang in: ${Clang_DIR}")
+
+include_directories(
+  ${LLVM_INCLUDE_DIRS}
+  ${CLANG_INCLUDE_DIRS}
+)
+
+add_definitions(${LLVM_DEFINITIONS})
+
+add_executable(libclc-remangler LibclcRemangler.cpp)
+
+set(LLVM_LIBS
+  LLVMBitWriter
+  LLVMBitReader
+  LLVMCore
+  LLVMDemangle
+  LLVMSupport
+  LLVMTransformUtils
+  LLVMIRReader
+  LLVMTargetParser
+  LLVMOption
+)
+
+set(CLANG_LIBS
   clangAST
   clangBasic
   clangFrontend
   clangTooling
   clangSerialization
-  LLVMOption
-  )
+)
+
+target_link_libraries(libclc-remangler
+  PRIVATE
+    ${LLVM_LIBS}
+    ${CLANG_LIBS}
+)
+
+if (LLVM_ENABLE_RTTI)
+  target_compile_options(libclc-remangler PRIVATE -frtti)
+else()
+  target_compile_options(libclc-remangler PRIVATE -fno-rtti)
+endif()
